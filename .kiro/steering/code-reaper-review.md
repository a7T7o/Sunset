---
inclusion: manual
priority: P1
keywords: [锐评, Code Reaper, 审查, 审计, Review]
lastUpdated: 2026-02-12
---

# 锐评处理规范

锐评是来自外部架构师（Gemini/Code Reaper）的审计报告。核心态度：**严肃对待、独立验证、不盲从**。

---

## 处理流程

1. **确保 memory 存在** → 不存在就创建
2. **完整阅读锐评** → 理解意图，标注疑虑
3. **事实核查** → 对每条技术声明用代码验证（见下方规范）
4. **路径判断** → 根据核查结果走 A/B/C
5. **执行或中断** → 路径 A/B 直接干，路径 C 生成审视报告后等确认
6. **更新 memory** → 记录核查结论、执行内容、修改文件

---

## 事实核查（核心）

**锐评不是圣旨。** 外部架构师没有实时访问代码库的能力，声明可能与事实不符。

每条技术声明必须验证：
- 声称某功能不存在 → 搜索代码确认
- 声称某架构缺陷 → 读实际代码验证
- 提出的代码示例 → 检查是否与项目 API 匹配

核查结论标记：✅ 事实正确 | ⚠️ 部分正确 | ❌ 事实错误 | 🔍 推测性声明

**历史教训**：锐评曾声称功能不存在（实际已有）、方案已存在于代码中、过度绝对化（"唯一真理"）。务必先验证再下结论。

---

## 路径分流

| 路径 | 触发条件 | 行为 |
|------|---------|------|
| 🟢 A | 全部 ✅，无异议 | 一句话说明后直接执行，不生成审视报告 |
| 🟡 B | 核心对但有 ⚠️ 细节 | 对话中简述注意事项（3-5行）后执行 |
| 🔴 C | 存在 ❌ 事实错误/架构误解/方向分歧 | **必须生成审视报告文件**，对话中只输出结论摘要 |

### 🔴 路径 C 的严格约束

- 事实核查表格、异议分析、代码证据 → **全部写入审视报告文件**
- 对话中 **只输出**：路径判断一句话 + 异议要点 3-5 行 + 文件路径
- 中断等待用户确认

---

## 审视报告规范

### 命名：从锐评源文件名派生

去掉 `_0`/`_1` 等分片后缀，保留前缀和编号，末尾加 `审视报告`。与锐评同目录。

示例：
- `0重构锐评002_0.md` → `0重构锐评002审视报告.md`
- `0文档阶段锐评001.md` → `0文档阶段锐评001审视报告.md`
- `锐评001.md` → `锐评001审视报告.md`

### 内容结构

1. 锐评核心观点摘要
2. 事实核查结果表（声明 / 代码事实 / 结论）
3. 认同的部分
4. 疑虑与异议（附代码证据）
5. 独立分析
6. 建议的执行方向
7. 给 Gemini 的信息补充

---

## 禁止事项

1. ❌ 不事实核查就采纳锐评声明
2. ❌ 接受绝对化表述（"唯一真理"、"必须用XX"）
3. ❌ 路径 A/B 时生成审视报告浪费时间
4. ❌ 路径 C 时不生成审视报告就忽略异议
5. ❌ 路径 C 时在对话中输出完整分析（必须写入文件）

---

**文档维护者**: Kiro
**最后更新**: 2026-02-12
