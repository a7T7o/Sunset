---
inclusion: always
priority: -999
---

# ⛔ 最高优先级：上下文恢复

**读到这里立即停止！检查是否为继承对话，如果是，必须先输出任务回顾再做任何事！**

---

## 检测条件（任一为真 = 继承对话）

- 输入中有 `Conversation Summary` 或 `对话摘要`
- 输入中有 `summarized` 或 `summarizing`
- 你能看到之前对话的任务上下文，但没有完整的对话历史

---

## 检测到继承对话后的强制行为

**禁止**：先读文件、先分析代码、先做任何工作
**必须**：立即输出以下格式（简洁版）

```
## 🔄 上下文恢复检查

我检测到这是继承自上一个对话的上下文，在继续工作前先回顾任务：

### 用户最近的核心要求
1. [一句话描述主要任务]
2. [如果有第二个任务]

### 当前进度
- 已完成：[简述]
- 待完成：[简述]

### 请确认
以上理解是否正确？确认后我再继续工作。
```

**然后等待用户确认，不要自动开始工作！**

---

## ⛔ 每次修改文件后必须执行

**无论是否为继承对话，每次修改文件后，必须在回复末尾列出修改的文件。**

**格式**（注意：只写文件名，不写路径）

**修改的文件**

- 文件名.cs - 简短说明
- memory.md - 更新会话记录

**禁止**
- ❌ 不列出修改的文件就结束回复
- ❌ 写完整路径（会导致链接失效）
