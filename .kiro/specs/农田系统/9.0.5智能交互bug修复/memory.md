# 9.0.5 æ™ºèƒ½äº¤äº’bugä¿®å¤ - å¼€å‘è®°å¿†

## æ¨¡å—æ¦‚è¿°

æœ¬å·¥ä½œåŒºä¸“æ³¨äºä¿®å¤å†œç”°ç³»ç»Ÿå’Œæ”¾ç½®ç³»ç»Ÿçš„äº¤äº’bugï¼Œç»Ÿä¸€ä¸¤ä¸ªç³»ç»Ÿçš„äº¤äº’æ¨¡å¼ã€‚

æ ¸å¿ƒé—®é¢˜ï¼š
- å†œç”°ç³»ç»Ÿç¼ºå°‘é¢„è§ˆé”å®šæœºåˆ¶
- å¯¼èˆªä¸­é¢„è§ˆä»è·Ÿéšé¼ æ ‡
- å–æ¶ˆåé¢„è§ˆä¸æ¢å¤è·Ÿéš
- åˆ‡æ¢ç‰©å“æ—¶çŠ¶æ€æ··ä¹±
- æ”¾ç½®ç³»ç»Ÿä¹Ÿå­˜åœ¨ç±»ä¼¼é—®é¢˜éœ€è¦ç»Ÿä¸€ä¿®å¤

## å½“å‰çŠ¶æ€

- **å®Œæˆåº¦**: 100%ï¼ˆå…¨éƒ¨ 18 ä¸ªä»»åŠ¡å·²å®Œæˆï¼Œå¾…ç”¨æˆ·éªŒæ”¶ï¼‰
- **æœ€åæ›´æ–°**: 2026-02-10
- **çŠ¶æ€**: âœ… ä»£ç å®Œæˆï¼Œå¾…éªŒæ”¶
- **å½“å‰ç„¦ç‚¹**: å…¨éƒ¨ä»£ç ä¿®æ”¹å·²å®Œæˆï¼ŒUnity ç¼–è¯‘é€šè¿‡ï¼Œç­‰å¾…ç”¨æˆ·æ¸¸æˆå†…éªŒæ”¶

---

## ç”¨æˆ·åŸå§‹éœ€æ±‚

> "ä½ ç°åœ¨çš„é¢„è§ˆå’Œäº¤äº’ç»“åˆå®åœ¨æ˜¯å¤ªå·®äº†ï¼Œä½ çš„å„ç§äº¤äº’é€»è¾‘å®ç°çš„å®åœ¨æ˜¯å¤ªå·®åŠ²äº†ï¼Œä¸€å †bugï¼Œå¥½åƒä½ æ ¹æœ¬æ²¡æœ‰åšè¿‡æ”¾ç½®ç³»ç»Ÿä¸€æ ·ï¼Œè¯·ä½ å…¨é¢å¯¹ç…§ç»™å‡ºå®¡è§†å’Œåˆ†æï¼Œæˆ‘è®¤ä¸ºä½ çš„é—®é¢˜å®åœ¨æ˜¯å¤ªä¸¥é‡äº†ï¼Œç„¶åç»™å‡ºæ–°äº¤äº’çŸ©é˜µæ–‡æ¡£ï¼Œä¹Ÿå°±æ˜¯ä½ éœ€è¦ç»™å‡ºä¸¤ä¸ªæ–‡æ¡£ï¼Œä¸€ä¸ªæ˜¯å…¨é¢åæ€ä¸€ä¸ªæ˜¯å…¨é¢äº¤äº’çŸ©é˜µï¼Œæˆ‘è®¤ä¸ºä½ å½“å‰å®ç°çš„å†…å®¹å¤ªå·®åŠ²äº†ï¼Œå¯¹äºä½ çš„å„ç§æƒ…å†µå¤„ç†ï¼Œæ”¾ç½®ç³»ç»Ÿé‡Œé¢çš„ç‚¹å‡»åé¢„è§ˆå›ºå®šç©å®¶ç§»åŠ¨è¿‡å»åˆ°å¯è§¦å‘è·ç¦»å†è§¦å‘ï¼Œç§»åŠ¨å–æ¶ˆåé¢„è§ˆä¹Ÿå–æ¶ˆå›ºå®šç„¶åæ¢å¤è·Ÿéšé¼ æ ‡é¢„è§ˆï¼Œè¿™ä¸€ç‚¹å¯¹äºæˆ‘ä»¬å½“å‰å·²ç»å®Œæˆçš„æ”¾ç½®ç³»ç»Ÿä¹Ÿæ˜¯å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä½ åŒæ ·éœ€è¦è¿›è¡Œä¿®æ”¹å’Œç»Ÿä¸€ä¿®å¤ï¼Œç„¶åè¿˜æœ‰åˆ‡æ¢ç‰©ä½“å–æ¶ˆè€•åœ°é¢„è§ˆç­‰é€»è¾‘å¤„ç†ï¼Œå„ç§å„ç§ï¼Œæˆ‘å¸Œæœ›ä½ éƒ½èƒ½å…¨é¢è¿›è¡Œåˆ†æï¼Œæ‰€æœ‰çš„äº¤äº’æƒ…å†µï¼Œéƒ½éœ€è¦ä¸¥è‚ƒå¤„ç†"

---

## æ ¸å¿ƒé—®é¢˜è¯†åˆ«

### P0 - é˜»å¡æ€§é—®é¢˜
1. FarmToolPreview ç¼ºå°‘ LockPosition/UnlockPosition
2. ç‚¹å‡»åé¢„è§ˆä¸é”å®š
3. å¯¼èˆªä¸­é¢„è§ˆä»è·Ÿéšé¼ æ ‡
4. å–æ¶ˆ/æ‰§è¡Œåé¢„è§ˆä¸è§£é”æ¢å¤è·Ÿéš
5. æœªè®¢é˜… OnSelectedChanged äº‹ä»¶
6. **ğŸ”´ æµ‡æ°´åŠŸèƒ½å®Œå…¨æ— æ³•éªŒæ”¶**ï¼ˆç”¨æˆ·æœ€æ–°åé¦ˆï¼‰
   - IsValid() è¿”å› false æ—¶æ— ç”¨æˆ·åé¦ˆ
   - tileData ä¸º null æ—¶é™é»˜å¤±è´¥
   - æµ‡æ°´å¤±è´¥åŸå› ä¸é€æ˜

### P1 - ä¸¥é‡é—®é¢˜
7. åˆ‡æ¢ç‰©å“æ—¶ä¸å–æ¶ˆå¯¼èˆª
8. å¯¼èˆªä¸­ç‚¹å‡»æ–°ä½ç½®æ— å¤„ç†
9. ç¼ºå°‘æ‰§è¡Œä¸­ä¿æŠ¤æ ‡å¿—
10. æµ‡æ°´åŠ¨ç”»ä¸é€»è¾‘ä¸åŒæ­¥
11. è¿œè·ç¦»æµ‡æ°´å¿«ç…§éªŒè¯ä¸å®Œæ•´

### P2 - ä¸€èˆ¬é—®é¢˜
12. å¿«ç…§ç¼ºå°‘ Quality å­—æ®µ
13. æ”¾ç½®ç³»ç»Ÿéœ€è¦åŒæ­¥éªŒè¯ä¿®å¤
14. æ¥¼å±‚æ£€æµ‹å¯èƒ½ä¸å‡†ç¡®

---

## æ–‡æ¡£æ¸…å•

| æ–‡æ¡£ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| å…¨é¢åæ€.md | âœ… å®Œæˆ | 13ç« èŠ‚ï¼Œæ·±åº¦å‰–ææ‰€æœ‰é—®é¢˜ |
| å…¨é¢äº¤äº’çŸ©é˜µ.md | âœ… å®Œæˆ | 15ç« èŠ‚ï¼Œå®Œæ•´åœºæ™¯çŸ©é˜µ |
| memory.md | âœ… å®Œæˆ | æœ¬æ–‡ä»¶ |
| requirements.md | âœ… å®Œæˆ | 5ä¸ªç”¨æˆ·æ•…äº‹ã€8ä¸ªè¾¹ç•Œæƒ…å†µã€3ä¸ªéåŠŸèƒ½éœ€æ±‚ |
| design.md | âœ… å®Œæˆ | 5çŠ¶æ€æœºã€é”å®šæœºåˆ¶ã€6ä¸ªæ­£ç¡®æ€§å±æ€§ |
| tasks.md | âœ… å®Œæˆ | 7ä¸ªPhaseã€18ä¸ªä»»åŠ¡ |
| é”è¯„001å®¡è§†æŠ¥å‘Š.md | âœ… å®Œæˆ | äº‹å®æ ¸æŸ¥ + é‡‡çº³å†³ç­– |

---

## ä¼šè¯è®°å½•

### ä¼šè¯ 1 - 2026-02-09ï¼ˆæ–‡æ¡£åˆ›å»ºï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> å…¨é¢å¯¹ç…§æ”¾ç½®ç³»ç»Ÿå®¡è§†å†œç”°ç³»ç»Ÿäº¤äº’å®ç°ï¼Œåˆ›å»ºå…¨é¢åæ€å’Œå…¨é¢äº¤äº’çŸ©é˜µä¸¤ä¸ªæ–‡æ¡£

**å®Œæˆä»»åŠ¡**:
1. åˆ›å»º `å…¨é¢åæ€.md` - 13ç« èŠ‚æ·±åº¦å‰–æ
   - çŠ¶æ€æœºå¯¹æ¯”ï¼ˆ4çŠ¶æ€ vs 3çŠ¶æ€ï¼‰
   - é¢„è§ˆç³»ç»Ÿç¼ºé™·ï¼ˆç¼ºå°‘é”å®šæœºåˆ¶ï¼‰
   - å¿«ç…§æœºåˆ¶ä¸å®Œæ•´
   - ä¸­æ–­å¤„ç†ç¼ºå¤±
   - äº‹ä»¶è®¢é˜…ç¼ºå¤±
   - æ‰§è¡Œä¿æŠ¤ç¼ºå¤±
   - æ—¶åºé—®é¢˜
   - æ”¾ç½®ç³»ç»ŸåŒæ ·å­˜åœ¨çš„é—®é¢˜
   - åˆ‡æ¢ç‰©å“é€»è¾‘
   - å®Œæ•´äº¤äº’åœºæ™¯æ¸…å•

2. åˆ›å»º `å…¨é¢äº¤äº’çŸ©é˜µ.md` - 15ç« èŠ‚å®Œæ•´çŸ©é˜µ
   - ç³»ç»Ÿå¯¹æ¯”æ¦‚è§ˆ
   - çŠ¶æ€æœºå¯¹æ¯”
   - 5ä¸ªæ ¸å¿ƒäº¤äº’åœºæ™¯
   - äº‹ä»¶è®¢é˜…å¯¹æ¯”
   - å¿«ç…§æœºåˆ¶å¯¹æ¯”
   - é¢„è§ˆç³»ç»Ÿå¯¹æ¯”
   - å¯¼èˆªä¸­æ–­å¤„ç†å¯¹æ¯”
   - æ‰§è¡Œä¿æŠ¤æœºåˆ¶å¯¹æ¯”
   - é—®é¢˜æ±‡æ€»ä¸ä¼˜å…ˆçº§
   - ä¿®å¤å®æ–½è®¡åˆ’
   - éªŒæ”¶æ ‡å‡†
   - æ”¾ç½®ç³»ç»ŸåŒæ­¥ä¿®å¤
   - åˆ‡æ¢ç‰©å“åœºæ™¯çŸ©é˜µ
   - å®Œæ•´åœºæ™¯æ¸…å•ï¼ˆ22ä¸ªåœºæ™¯ï¼‰
   - ä¿®å¤ä»»åŠ¡æ¸…å•

3. æ›´æ–° `coding-standards.md` - æ·»åŠ æ–‡æ¡£å†™å…¥è§„èŒƒ
   - å°‘é‡å¤šæ¬¡å†™å…¥ç­–ç•¥
   - é¿å…ä¸€æ¬¡æ€§å†™å…¥å¤§é‡å†…å®¹è¢«ä¸­æ–­

4. åˆ›å»º `memory.md` - æœ¬æ–‡ä»¶

**ä¿®æ”¹æ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/å…¨é¢åæ€.md` - è¡¥å……å®Œå–„
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/å…¨é¢äº¤äº’çŸ©é˜µ.md` - è¡¥å……å®Œå–„
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/memory.md` - æ–°å»º
- `.kiro/steering/coding-standards.md` - æ·»åŠ æ–‡æ¡£å†™å…¥è§„èŒƒ

**æ¶‰åŠä»£ç æ–‡ä»¶ï¼ˆåˆ†æï¼Œæœªä¿®æ”¹ï¼‰**:
- `FarmToolPreview.cs` - ç¼ºå°‘é”å®šæœºåˆ¶
- `GameInputManager.cs` - çŠ¶æ€ç®¡ç†ä¸å®Œæ•´
- `PlacementManager.cs` - å‚è€ƒæ ‡å‡†
- `PlacementPreview.cs` - å‚è€ƒæ ‡å‡†

**ä¸‹ä¸€æ­¥**:
- [ ] åˆ›å»º requirements.md
- [ ] åˆ›å»º design.md
- [ ] åˆ›å»º tasks.md
- [ ] æ‰§è¡Œä¿®å¤ä»»åŠ¡

---

### ä¼šè¯ 2 - 2026-02-09ï¼ˆæµ‡æ°´é—®é¢˜åˆ†æï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> æµ‡æ°´åŠŸèƒ½å®Œå…¨æ— æ³•éªŒæ”¶ï¼ŒGameInputManager å¤„ç†å­˜åœ¨å·¨å¤§é—®é¢˜

**å®Œæˆä»»åŠ¡**:
1. åˆ†ææµ‡æ°´åŠŸèƒ½å®Œæ•´è°ƒç”¨é“¾
   - HandleUseCurrentTool â†’ TryHandleFarmingTool â†’ TryWaterTile â†’ ExecuteWaterTile
   - FarmToolPreview.UpdateWateringPreview çš„éªŒè¯é€»è¾‘

2. è¯†åˆ«æµ‡æ°´åŠŸèƒ½çš„æ ¸å¿ƒé—®é¢˜
   - IsValid() è¿”å› false æ—¶æ— ç”¨æˆ·åé¦ˆ
   - tileData ä¸º null æ—¶é™é»˜å¤±è´¥
   - æµ‡æ°´å¤±è´¥åŸå› ä¸é€æ˜
   - è¿œè·ç¦»æµ‡æ°´å¿«ç…§éªŒè¯ä¸å®Œæ•´

3. è¡¥å…… `å…¨é¢åæ€.md` - æ–°å¢ç¬¬14ç« "æµ‡æ°´åŠŸèƒ½çš„ä¸¥é‡é—®é¢˜"
   - è°ƒç”¨é“¾åˆ†æ
   - éªŒè¯é€»è¾‘åˆ†æ
   - é—®é¢˜æ ¹å› åˆ†æ
   - å®Œæ•´é—®é¢˜æ¸…å•ï¼ˆ7ä¸ªé—®é¢˜ï¼‰
   - ä¿®å¤æ–¹æ¡ˆ
   - éªŒæ”¶æ ‡å‡†

4. è¡¥å…… `å…¨é¢äº¤äº’çŸ©é˜µ.md` - æ–°å¢ç¬¬16ç« "æµ‡æ°´åŠŸèƒ½é—®é¢˜çŸ©é˜µ"
   - è°ƒç”¨é“¾å›¾ç¤º
   - é¢„è§ˆéªŒè¯é€»è¾‘
   - å¤±è´¥åœºæ™¯çŸ©é˜µï¼ˆ6ä¸ªåœºæ™¯ï¼‰
   - ä¸é”„åœ°åŠŸèƒ½å¯¹æ¯”
   - é—®é¢˜ä¼˜å…ˆçº§
   - ä¿®å¤ä»»åŠ¡ï¼ˆ5ä¸ªä»»åŠ¡ï¼‰
   - éªŒæ”¶åœºæ™¯ï¼ˆ6ä¸ªåœºæ™¯ï¼‰

**ä¿®æ”¹æ–‡ä»¶**:
- `å…¨é¢åæ€.md` - æ–°å¢ç¬¬14ç« 
- `å…¨é¢äº¤äº’çŸ©é˜µ.md` - æ–°å¢ç¬¬16ç« 
- `memory.md` - æ›´æ–°æ ¸å¿ƒé—®é¢˜è¯†åˆ«å’Œä¼šè¯è®°å½•

**æ¶‰åŠä»£ç æ–‡ä»¶ï¼ˆåˆ†æï¼Œæœªä¿®æ”¹ï¼‰**:
- `GameInputManager.cs` - TryWaterTile, ExecuteWaterTile æ–¹æ³•
- `FarmToolPreview.cs` - UpdateWateringPreview æ–¹æ³•
- `FarmTileManager.cs` - SetWatered, GetTileData æ–¹æ³•

**æµ‡æ°´é—®é¢˜æ¸…å•**:
| # | é—®é¢˜ | ä¼˜å…ˆçº§ |
|---|------|--------|
| W1 | FarmToolPreview.Instance å¯èƒ½ä¸º null | P0 |
| W2 | IsValid() è¿”å› false æ—¶æ— ç”¨æˆ·åé¦ˆ | P0 |
| W3 | tileData ä¸º null æ—¶æ— æ³•æµ‡æ°´ | P0 |
| W4 | layerIndex å¯èƒ½ä¸æ­£ç¡® | P1 |
| W5 | SetWatered å¤±è´¥æ—¶æ— åé¦ˆ | P1 |
| W6 | æµ‡æ°´åŠ¨ç”»ä¸é€»è¾‘ä¸åŒæ­¥ | P1 |
| W7 | è¿œè·ç¦»æµ‡æ°´çš„å¿«ç…§éªŒè¯ä¸å®Œæ•´ | P1 |

**ä¸‹ä¸€æ­¥**:
- [ ] åˆ›å»º requirements.md
- [ ] åˆ›å»º design.md
- [ ] åˆ›å»º tasks.md
- [ ] æ‰§è¡Œä¿®å¤ä»»åŠ¡

---

### ä¼šè¯ 3 - 2026-02-09ï¼ˆä¸‰ä»¶å¥—å®Œæˆï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> å®Œæˆä¸‰ä»¶å¥—åˆ›å»ºï¼ˆrequirements.mdã€design.mdã€tasks.mdï¼‰

**å®Œæˆä»»åŠ¡**:
1. åˆ›å»º `requirements.md` - 5ä¸ªç”¨æˆ·æ•…äº‹ï¼ˆUS-1~US-5ï¼‰ã€8ä¸ªè¾¹ç•Œæƒ…å†µã€3ä¸ªéåŠŸèƒ½éœ€æ±‚
2. åˆ›å»º `design.md` - 5çŠ¶æ€æœºè®¾è®¡ã€FarmToolPreviewé”å®šæœºåˆ¶ã€GameInputManagerä¿®æ”¹ã€6ä¸ªæ­£ç¡®æ€§å±æ€§
3. åˆ›å»º `tasks.md` - 7ä¸ªPhaseã€18ä¸ªä»»åŠ¡
4. åˆ›å»º `é”è¯„001å®¡è§†æŠ¥å‘Š.md` - äº‹å®æ ¸æŸ¥ + é‡‡çº³å†³ç­–çŸ©é˜µ
5. æ›´æ–° `memory.md` - æœ¬æ¬¡ä¼šè¯è®°å½•

**ä¿®æ”¹æ–‡ä»¶**:
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/requirements.md` - æ–°å»º
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/design.md` - æ–°å»º
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/tasks.md` - æ–°å»º
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/é”è¯„001å®¡è§†æŠ¥å‘Š.md` - æ–°å»º
- `.kiro/specs/å†œç”°ç³»ç»Ÿ/9.0.5æ™ºèƒ½äº¤äº’bugä¿®å¤/memory.md` - æ›´æ–°

**æ¶‰åŠä»£ç æ–‡ä»¶ï¼ˆåˆ†æï¼Œæœªä¿®æ”¹ï¼‰**:
- `FarmToolPreview.cs` - ç¡®è®¤ç¼ºå°‘é”å®šæœºåˆ¶
- `GameInputManager.cs` - ç¡®è®¤ FarmNavState åªæœ‰3çŠ¶æ€ï¼ŒCancelFarmingNavigation é‡ç½®ä¸º Idle

**è®¾è®¡æ ¸å¿ƒå†³ç­–**:
| å†³ç­– | åŸå›  |
|------|------|
| æ‰©å±• FarmNavState è€ŒéåºŸå¼ƒ | å‡å°‘é‡å†™é£é™©ï¼Œä¿æŒå‘åå…¼å®¹ |
| é£˜å­—æç¤ºé™ä¸º P2 | å½“å‰æ—  FloatingText ç³»ç»Ÿï¼Œä¸åœ¨ bug ä¿®å¤èŒƒå›´å†… |
| ä½¿ç”¨ FarmNavState è€Œé InteractionState | é¿å…ä¸ IInteractable/PlayerInteraction å‘½åå†²çª |

**ä¸‹ä¸€æ­¥**:
- [ ] æ‰§è¡Œ Phase 1~7 ä¿®å¤ä»»åŠ¡
- [ ] ç¼–è¯‘éªŒè¯
- [ ] åˆ›å»ºéªŒæ”¶æŒ‡å—

### å†œç”°ç³»ç»Ÿ
| æ–‡ä»¶ | è¯´æ˜ | éœ€è¦ä¿®æ”¹ |
|------|------|---------|
| `FarmToolPreview.cs` | å†œç”°é¢„è§ˆç»„ä»¶ | âœ… æ·»åŠ é”å®šæœºåˆ¶ |
| `GameInputManager.cs` | è¾“å…¥ç®¡ç† | âœ… çŠ¶æ€æœº+äº‹ä»¶è®¢é˜… |

### æ”¾ç½®ç³»ç»Ÿ
| æ–‡ä»¶ | è¯´æ˜ | éœ€è¦éªŒè¯ |
|------|------|---------|
| `PlacementManager.cs` | æ”¾ç½®ç®¡ç†å™¨ | âœ… éªŒè¯ä¸­æ–­å¤„ç† |
| `PlacementPreview.cs` | æ”¾ç½®é¢„è§ˆç»„ä»¶ | âœ… éªŒè¯é”å®šæœºåˆ¶ |

---

## ç»Ÿä¸€äº¤äº’æ¨¡å¼

```
ç‚¹å‡»æœ‰æ•ˆä½ç½®
    â†“
é”å®šé¢„è§ˆä½ç½®ï¼ˆLockPositionï¼‰
    â†“
åˆ¤æ–­è·ç¦»
    â”œâ”€ è¿‘è·ç¦» â†’ ç›´æ¥æ‰§è¡Œ â†’ è§£é”é¢„è§ˆï¼ˆUnlockPositionï¼‰
    â””â”€ è¿œè·ç¦» â†’ å¼€å§‹å¯¼èˆª
                    â†“
              å¯¼èˆªè¿‡ç¨‹ä¸­
                    â”œâ”€ åˆ°è¾¾ â†’ æ‰§è¡Œ â†’ è§£é”é¢„è§ˆ
                    â””â”€ å–æ¶ˆ â†’ è§£é”é¢„è§ˆ â†’ æ¢å¤è·Ÿéšé¼ æ ‡
```

---

## ä¿®å¤ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | ä»»åŠ¡æ•° | è¯´æ˜ |
|--------|--------|------|
| P0 | 5 | é˜»å¡æ€§é—®é¢˜ï¼Œå¿…é¡»ç«‹å³ä¿®å¤ |
| P1 | 3 | ä¸¥é‡é—®é¢˜ï¼Œåº”è¯¥ä¿®å¤ |
| P2 | 2 | ä¸€èˆ¬é—®é¢˜ï¼Œå»ºè®®ä¿®å¤ |


### ä¼šè¯ 4 - 2026-02-10ï¼ˆé”è¯„002å®¡è§† + ä¸‰ä»¶å¥—æ›´æ–°ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> åŸºäºé”è¯„002ï¼ˆç›²äººå¯¼èˆªæ‚–è®ºï¼‰å®¡è§†å¹¶æ›´æ–°ä¸‰ä»¶å¥—æ–‡æ¡£ï¼Œç”¨æˆ·æä¾›äº†å…³é”®çš„ä¸­æ–­è¡Œä¸ºä¿®æ­£

**é”è¯„002æ ¸å¿ƒè¯Šæ–­**:
- "ç›²äººå¯¼èˆªæ‚–è®º"ï¼šå¯¼èˆªä¸­é¢„è§ˆé”å®š â†’ ç©å®¶çœ‹ä¸åˆ°ç›®æ ‡çŠ¶æ€ â†’ åˆ°è¾¾åå¯èƒ½å·²å¤±æ•ˆ
- æå‡ºè§†è§‰-æ•°æ®åˆ†ç¦»æ–¹æ¡ˆï¼šå¯¼èˆªä¸­æŒç»­æ›´æ–°æ•°æ®ï¼Œä½†å†»ç»“è§†è§‰æ˜¾ç¤º

**ç”¨æˆ·å…³é”®ä¿®æ­£**:
1. é¢æ¿ä¸ä¸­æ–­å¯¼èˆªï¼ˆé¢æ¿å†»ç»“äº‹ä»¶ï¼ŒçŠ¶æ€ä¿ç•™ï¼Œå…³é—­é¢æ¿æ¢å¤ä¹‹å‰çŠ¶æ€ï¼‰
2. é‡æ–°ç‚¹å‡» = ä¸­æ–­ + é‡å¯ï¼ˆä¸æ˜¯"ä¿®æ”¹ç›®çš„åœ°"ï¼Œé‚£æ˜¯åç»­ä¼˜åŒ–ï¼‰
3. "æ’¤å›æƒå§‹ç»ˆåœ¨ç©å®¶æ‰‹ä¸­"
4. å–æ¶ˆå§‹ç»ˆå›åˆ°æœ€åˆé¼ æ ‡è·ŸéšçŠ¶æ€

**å®Œæˆä»»åŠ¡**:
1. æ›´æ–° `requirements.md`
   - ä¿®æ­£ AC-2.2ï¼šESC è¡Œä¸ºæ˜ç¡®
   - ä¿®æ­£ AC-2.3ï¼šé‡æ–°ç‚¹å‡» = ä¸­æ–­ + é‡å¯
   - æ–°å¢æ ¸å¿ƒåŸåˆ™ï¼š"æ’¤å›æƒå§‹ç»ˆåœ¨ç©å®¶æ‰‹ä¸­"
   - ä¿®æ­£ E3ï¼šé¢æ¿ä¸ä¸­æ–­å¯¼èˆª
   - ä¿®æ­£ E4ï¼šå…³é—­é¢æ¿æ¢å¤ä¹‹å‰çŠ¶æ€

2. æ›´æ–° `design.md`
   - 3.3èŠ‚ï¼šä»ç®€å• `if (_isLocked) return;` æ”¹ä¸ºè§†è§‰-æ•°æ®åˆ†ç¦»
   - 3.4èŠ‚ï¼šæ–°å¢ `UpdateRealtimeData()` è½»é‡æ–¹æ³•è§„æ ¼
   - 4.1èŠ‚ï¼šUpdatePreviews ä¸å†åœ¨é”å®šæ—¶æå‰è¿”å›
   - 4.3.1èŠ‚ï¼šé¢æ¿çƒ­é”®ä¸å–æ¶ˆå¯¼èˆª
   - 2.2/2.3èŠ‚ï¼šæ›´æ–°çŠ¶æ€è½¬æ¢å›¾å’Œè§„åˆ™è¡¨
   - æ–°å¢ç¬¬9èŠ‚ï¼šä¸­æ–­è¡Œä¸ºåˆ†ç±»è¡¨
   - æ›´æ–°é£é™©è¯„ä¼°

3. æ›´æ–° `tasks.md`
   - ä»»åŠ¡1.2ï¼šæ”¹ä¸º"å®ç°è§†è§‰-æ•°æ®åˆ†ç¦» + UpdateRealtimeData"
   - ä»»åŠ¡2.2ï¼šæ”¹ä¸º"ä¸é˜»æ–­å®æ—¶æ•°æ®æ›´æ–°"
   - æ–°å¢ä»»åŠ¡4.4ï¼š"é¢æ¿çƒ­é”®ä¸å–æ¶ˆå¯¼èˆª"
   - æ–°å¢ä»»åŠ¡4.5ï¼š"å¯¼èˆªä¸­é‡æ–°ç‚¹å‡»å¤„ç†"

4. æ›´æ–°ä¸»å·¥ä½œåŒº `memory.md`ï¼ˆå·²è¿½åŠ ä¼šè¯ 9.0.5-4ï¼‰

**ä¿®æ”¹æ–‡ä»¶**:
- requirements.md - ä¿®æ­£ä¸­æ–­è¡Œä¸ºã€é¢æ¿è¡Œä¸ºã€æ ¸å¿ƒåŸåˆ™
- design.md - è§†è§‰-æ•°æ®åˆ†ç¦»ã€UpdateRealtimeDataã€ä¸­æ–­åˆ†ç±»è¡¨
- tasks.md - æ›´æ–°ä»»åŠ¡æè¿°ã€æ–°å¢2ä¸ªä»»åŠ¡
- å†œç”°ç³»ç»Ÿ/memory.md - è¿½åŠ ä¼šè¯ 9.0.5-4

**æ¶‰åŠä»£ç æ–‡ä»¶ï¼ˆåˆ†æï¼Œæœªä¿®æ”¹ï¼‰**:
- `FarmToolPreview.cs` - å°†éœ€è¦å®ç°è§†è§‰-æ•°æ®åˆ†ç¦»ã€UpdateRealtimeData
- `GameInputManager.cs` - å°†éœ€è¦ä¿®æ”¹é¢æ¿çƒ­é”®å¤„ç†ã€æ·»åŠ é‡æ–°ç‚¹å‡»é€»è¾‘

**å…³é”®è®¾è®¡å†³ç­–**:
| å†³ç­– | åŸå›  | æ—¥æœŸ |
|------|------|------|
| è§†è§‰-æ•°æ®åˆ†ç¦»è€Œéç®€å• return | è§£å†³"ç›²äººå¯¼èˆªæ‚–è®º"ï¼Œåˆ°è¾¾æ—¶æ•°æ®æ˜¯æœ€æ–°çš„ | 2026-02-10 |
| é¢æ¿ä¸ä¸­æ–­å¯¼èˆª | ç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼šé¢æ¿å†»ç»“äº‹ä»¶ï¼ŒçŠ¶æ€ä¿ç•™ | 2026-02-10 |
| é‡æ–°ç‚¹å‡»=ä¸­æ–­+é‡å¯ | ç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼šä¸æ˜¯"ä¿®æ”¹ç›®çš„åœ°"ï¼Œé‚£æ˜¯åç»­ä¼˜åŒ– | 2026-02-10 |
| æ’¤å›æƒå§‹ç»ˆåœ¨ç©å®¶æ‰‹ä¸­ | ç”¨æˆ·æ ¸å¿ƒåŸåˆ™ï¼Œæ‰€æœ‰æ“ä½œå¿…é¡»å¯ä¸­æ–­å¯å–æ¶ˆ | 2026-02-10 |

**ä¸‹ä¸€æ­¥**:
- [ ] ç”¨æˆ·å®¡æ ¸ä¸‰ä»¶å¥—æ›´æ–°
- [ ] æ‰§è¡Œ Phase 1~7 ä¿®å¤ä»»åŠ¡ï¼ˆä»£ç å®ç°ï¼‰
- [ ] ç¼–è¯‘éªŒè¯
- [ ] åˆ›å»ºéªŒæ”¶æŒ‡å—


### ä¼šè¯ 5 - 2026-02-10ï¼ˆä¸€æ¡é¾™æ‰§è¡Œå…¨éƒ¨ä»»åŠ¡ï¼‰

**ç”¨æˆ·éœ€æ±‚**:
> "ä½ å…¨æƒ" â€” è·³è¿‡æ‰€æœ‰å®¡æ ¸ï¼Œä¸€æ¡é¾™å®Œæˆå…¨éƒ¨ 18 ä¸ªä»»åŠ¡

**æ‰§è¡Œå†…å®¹**:

**Phase 1: FarmToolPreview é”å®šæœºåˆ¶ + è§†è§‰æ•°æ®åˆ†ç¦»** âœ…
- æ·»åŠ é”å®šå­—æ®µï¼š`_isLocked`ã€`_lockedWorldPosition`ã€`_lockedCellPos`ã€`_lockedLayerIndex`
- æ·»åŠ å…¬å¼€æ¥å£ï¼š`IsLocked`ã€`LockedWorldPos`ã€`LockPosition()`ã€`UnlockPosition()`
- å®ç° `UpdateRealtimeData()` è½»é‡æ–¹æ³•ï¼ˆåªæ›´æ–°æ•°æ®ï¼Œä¸è§¦ç¢°è§†è§‰ï¼‰
- ä¸‰ä¸ª UpdateXxxPreview æ–¹æ³•å‡å®ç°è§†è§‰-æ•°æ®åˆ†ç¦»ï¼šå…ˆ UpdateRealtimeData()ï¼Œå† if (_isLocked) return;

**Phase 2: FarmNavState çŠ¶æ€æœºæ‰©å±•** âœ…
- æ‰©å±•æšä¸¾ä¸º 5 çŠ¶æ€ï¼šIdleã€Previewã€Lockedã€Navigatingã€Executing
- UpdatePreviews ä¸å†åœ¨é”å®š/å¯¼èˆªæ—¶ returnï¼Œå§‹ç»ˆè°ƒç”¨é¢„è§ˆæ›´æ–°
- é¢æ¿æ‰“å¼€æ—¶ä¸éšè—é¢„è§ˆï¼ˆåª return ä¸æ›´æ–°ï¼ŒçŠ¶æ€ä¿ç•™ï¼‰

**Phase 3: ç‚¹å‡»é”å®šä¸è·ç¦»åˆ†æµ** âœ…
- TryTillSoilï¼šLockPosition â†’ è·ç¦»åˆ†æµ â†’ è¿‘è·ç¦» try/finally æ‰§è¡Œ â†’ è¿œè·ç¦»å¯¼èˆªå›è°ƒç”¨ LockedWorldPos æ ¡éªŒ
- TryWaterTileï¼šåŒä¸Š + æµ‡æ°´å¤±è´¥åŸå› æ—¥å¿—
- TryPlantSeedï¼šåŒä¸Š + å¿«ç…§æ ¡éªŒ

**Phase 4: ä¸­æ–­æ¢å¤ä¸çŠ¶æ€æ¸…ç†** âœ…
- CancelFarmingNavigationï¼šè°ƒç”¨ UnlockPositionï¼Œé‡ç½®ä¸º Previewï¼ˆæŒæœ‰å†œå…·æ—¶ï¼‰æˆ– Idle
- WaitForNavigationCompleteï¼štry/finally ä¿è¯ UnlockPositionï¼Œå›è°ƒä¸­ç”¨ LockedWorldPos è·ç¦»æ ¡éªŒï¼ˆé™·é˜±ä¸€ä¿®å¤ï¼‰
- HandlePanelHotkeysï¼šç§»é™¤æ‰€æœ‰ CancelFarmingNavigation è°ƒç”¨ï¼ˆé¢æ¿ä¸ä¸­æ–­å¯¼èˆªï¼‰
- ESC ç‰¹æ®Šå¤„ç†ï¼šæ— é¢æ¿æ—¶ä¸­æ–­å¯¼èˆªï¼Œæœ‰é¢æ¿æ—¶åªå…³é¢æ¿
- HandleUseCurrentToolï¼šå¯¼èˆªä¸­é‡æ–°ç‚¹å‡» = å–æ¶ˆå½“å‰ + é‡æ–°é”å®š + é‡æ–°å¼€å§‹

**Phase 5: æ‰§è¡Œä¿æŠ¤** âœ…
- æ–°å¢ `_isExecutingFarming` å­—æ®µ
- HandleUseCurrentTool å¼€å¤´æ£€æŸ¥æ‰§è¡Œä¿æŠ¤

**Phase 6: æµ‡æ°´å¤±è´¥åŸå› å¢å¼º** âœ…
- æ–°å¢ `WateringFailureReason` æšä¸¾å’Œ `LastWateringFailure` å±æ€§
- UpdateWateringPreview ä¸­è®°å½•å¤±è´¥åŸå› 
- TryWaterTile å¤±è´¥æ—¶è¾“å‡ºå…·ä½“åŸå› æ—¥å¿—

**Phase 7: ç¼–è¯‘éªŒè¯ä¸æµ‹è¯•** âœ…
- Unity ç¼–è¯‘é€šè¿‡ï¼Œ0 è­¦å‘Š
- åˆ›å»ºé”è¯„003å®¡è§†æŠ¥å‘Š
- åˆ›å»ºéªŒæ”¶æŒ‡å—

**ä¿®æ”¹æ–‡ä»¶**:

### æ ¸å¿ƒæ–‡ä»¶ï¼ˆä¿®æ”¹ï¼‰
| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `FarmToolPreview.cs` | ä¿®æ”¹ | æ·»åŠ é”å®šæœºåˆ¶ã€è§†è§‰æ•°æ®åˆ†ç¦»ã€UpdateRealtimeDataã€æµ‡æ°´å¤±è´¥åŸå› æšä¸¾ |
| `GameInputManager.cs` | ä¿®æ”¹ | 5çŠ¶æ€æœºã€é”å®šåˆ†æµã€é¢æ¿ä¸ä¸­æ–­ã€é‡æ–°ç‚¹å‡»å¤„ç†ã€æ‰§è¡Œä¿æŠ¤ã€æµ‡æ°´æ—¥å¿—å¢å¼º |

### æ–‡æ¡£æ–‡ä»¶ï¼ˆæ–°å»º/æ›´æ–°ï¼‰
| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `é”è¯„003å®¡è§†æŠ¥å‘Š.md` | æ–°å»º | äº‹å®æ ¸æŸ¥ + é‡‡çº³å†³ç­– |
| `éªŒæ”¶æŒ‡å—.md` | æ–°å»º | åŠŸèƒ½éªŒæ”¶æ¸…å• + æµ‹è¯•æ­¥éª¤ |
| `tasks.md` | æ›´æ–° | å…¨éƒ¨ 18 ä¸ªä»»åŠ¡æ ‡è®°ä¸º [x] |
| `memory.md` | æ›´æ–° | æœ¬æ¬¡ä¼šè¯è®°å½• |

### ç›¸å…³æ–‡ä»¶ï¼ˆå¼•ç”¨/ä¾èµ–ï¼Œæœªä¿®æ”¹ï¼‰
| æ–‡ä»¶ | å…³ç³» |
|------|------|
| `PlayerAutoNavigator.cs` | å¯¼èˆªå›è°ƒæä¾›è€… |
| `FarmTileManager.cs` | è€•åœ°çŠ¶æ€ç®¡ç† |
| `PlacementManager.cs` | æ”¾ç½®ç³»ç»Ÿå‚è€ƒ |
| `PlacementPreview.cs` | é”å®šæœºåˆ¶å‚è€ƒ |

**å…³é”®è®¾è®¡å†³ç­–**:
| å†³ç­– | åŸå›  | æ—¥æœŸ |
|------|------|------|
| è§†è§‰-æ•°æ®åˆ†ç¦» | è§£å†³"ç›²äººå¯¼èˆªæ‚–è®º"ï¼Œå¯¼èˆªä¸­æ•°æ®æŒç»­æ›´æ–° | 2026-02-10 |
| é¢æ¿ä¸ä¸­æ–­å¯¼èˆª | ç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼šé¢æ¿å†»ç»“äº‹ä»¶ï¼ŒçŠ¶æ€ä¿ç•™ | 2026-02-10 |
| LockedWorldPos è·ç¦»æ ¡éªŒ | é™·é˜±ä¸€ä¿®å¤ï¼šå›è°ƒä¸­ä¸èƒ½ç”¨ IsInRangeï¼ˆè·Ÿé¼ æ ‡ï¼‰ | 2026-02-10 |
| å–æ¶ˆå›åˆ° Preview è€Œé Idle | æŒæœ‰å†œå…·æ—¶åº”æ¢å¤é¼ æ ‡è·Ÿéšé¢„è§ˆ | 2026-02-10 |

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆ0 è­¦å‘Šï¼‰

**å¾…éªŒæ”¶**:
- [ ] è¿œè·ç¦»é”„åœ°/æµ‡æ°´/ç§æ¤çš„é”å®š+å¯¼èˆª+æ‰§è¡Œ
- [ ] å¯¼èˆªä¸­é¢„è§ˆé”å®šä¸è·Ÿéšé¼ æ ‡
- [ ] å–æ¶ˆåé¢„è§ˆæ¢å¤è·Ÿéšé¼ æ ‡
- [ ] é¢æ¿æ‰“å¼€ä¸ä¸­æ–­å¯¼èˆª
- [ ] é‡æ–°ç‚¹å‡»ä¸­æ–­+é‡å¯
- [ ] åˆ‡æ¢ç‰©å“å–æ¶ˆå¯¼èˆª
- [ ] æ‰§è¡Œä¿æŠ¤ï¼ˆä¸é‡å¤è§¦å‘ï¼‰
- [ ] æµ‡æ°´å¤±è´¥åŸå› æ—¥å¿—


### ä¼šè¯ 6 - 2026-02-10ï¼ˆè‡´å‘½ bug ä¿®å¤ï¼šé¢„è§ˆé”å®šç«‹å³è¢«è§£é”ï¼‰

**ç”¨æˆ·åé¦ˆ**:
> æµ‹è¯•åå‘ç°"ä»€ä¹ˆéƒ½æ²¡å˜"â€”â€”é¢„è§ˆä¸ä¼šé”å®šï¼Œè¿˜æ˜¯è·Ÿéšé¼ æ ‡ï¼Œå¿…é¡»è¿‘è·ç¦»æ‰è§¦å‘ï¼Œè¡Œä¸ºä¸ä¿®æ”¹å‰å®Œå…¨ä¸€è‡´ã€‚

**Code Reaper é”è¯„**:
- æä¾› `1æ‰“å›é”è¯„001.md` æ³•åŒ»çº§åˆ†æï¼Œè¯†åˆ« 3 ä¸ªæ½œåœ¨è‡´å‘½é—®é¢˜

**ç‹¬ç«‹è°ƒæŸ¥ç»“æœ**:

**âœ… ç¡®è®¤è‡´å‘½ Bugï¼š`StartFarmingNavigation` å¼€å¤´è°ƒç”¨ `CancelFarmingNavigation` ç«‹å³è§£é”é¢„è§ˆ**

å®Œæ•´æ—¶åºåˆ†æï¼š
1. `TryTillSoil` â†’ `farmPreview.LockPosition()` âœ… é”å®š
2. `TryTillSoil` â†’ `_farmNavState = FarmNavState.Locked`
3. `TryTillSoil` â†’ `StartFarmingNavigation()`
4. `StartFarmingNavigation` ç¬¬ä¸€è¡Œ â†’ `CancelFarmingNavigation()`
5. `CancelFarmingNavigation` æ£€æŸ¥ `_farmNavState == Idle || Preview` â†’ **Locked ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œä¸ä¼š returnï¼**
6. `CancelFarmingNavigation` â†’ `farmPreview.UnlockPosition()` âŒ **ç«‹å³è§£é”ï¼**
7. `CancelFarmingNavigation` â†’ `_farmNavState = Preview` âŒ **çŠ¶æ€è¢«é‡ç½®ï¼**
8. å›åˆ° `StartFarmingNavigation` â†’ `_farmNavState = Navigating`ï¼ˆä½†é¢„è§ˆå·²è§£é”ï¼‰

**æ ¹å› **ï¼š`StartFarmingNavigation` çš„"æ¸…ç†æ—§å¯¼èˆª"é€»è¾‘ä½¿ç”¨äº† `CancelFarmingNavigation()`ï¼Œä½†è¿™ä¸ªæ–¹æ³•ä¼šæ— å·®åˆ«åœ°è§£é”é¢„è§ˆå’Œé‡ç½®çŠ¶æ€ã€‚å½“ä» `TryTillSoil` è°ƒç”¨æ—¶ï¼Œé¢„è§ˆåˆšè¢«é”å®šå°±è¢«ç«‹å³è§£é”ã€‚

**Code Reaper è¯Šæ–­æ ¸æŸ¥**:
| è¯Šæ–­ | æ ¸æŸ¥ç»“è®º |
|------|---------|
| HandleMovement æ€æ­»å¯¼èˆª | âš ï¸ éƒ¨åˆ†æ­£ç¡® â€” WASD ç¡®å®ä¼šå–æ¶ˆï¼Œä½†é¼ æ ‡ç‚¹å‡»ä¸ä¼šè§¦å‘ WASD è¾“å…¥ï¼Œä¸æ˜¯ä¸»å›  |
| LockPosition è¢«ç«‹å³æ’¤é”€ | âœ… å®Œå…¨æ­£ç¡® â€” è¿™æ˜¯è‡´å‘½ bug |
| IsValid å«è·ç¦»æ£€æŸ¥ | âŒ äº‹å®é”™è¯¯ â€” IsValid æ˜¯çº¯é€»è¾‘ï¼Œä¸å«è·ç¦» |

**ä¿®å¤æ–¹æ¡ˆ**:
å°† `StartFarmingNavigation` ä¸­çš„ `CancelFarmingNavigation()` æ›¿æ¢ä¸ºæ‰‹åŠ¨æ¸…ç†ï¼š
- åªåœæ­¢æ—§åç¨‹
- åªå–æ¶ˆæ—§å¯¼èˆªå™¨
- **ä¸è§¦ç¢°é¢„è§ˆé”å®šçŠ¶æ€**

```csharp
// ä¿®å¤å‰ï¼ˆè‡´å‘½ bugï¼‰
CancelFarmingNavigation();

// ä¿®å¤å
if (_farmingNavigationCoroutine != null)
{
    StopCoroutine(_farmingNavigationCoroutine);
    _farmingNavigationCoroutine = null;
}
if (autoNavigator.IsActive)
{
    autoNavigator.ForceCancel();
}
```

**ä¿®æ”¹æ–‡ä»¶**:

### æ ¸å¿ƒæ–‡ä»¶ï¼ˆä¿®æ”¹ï¼‰
| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `GameInputManager.cs` | ä¿®æ”¹ | `StartFarmingNavigation` ä¸­ç§»é™¤ `CancelFarmingNavigation()` è°ƒç”¨ï¼Œæ”¹ä¸ºæ‰‹åŠ¨æ¸…ç†æ—§åç¨‹å’Œå¯¼èˆªå™¨ |

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆ0 è­¦å‘Šï¼‰

**å¾…éªŒæ”¶**:
- [ ] è¿œè·ç¦»é”„åœ°ï¼šç‚¹å‡»åé¢„è§ˆé”å®šï¼Œç©å®¶èµ°è¿‡å»æ‰§è¡Œ
- [ ] è¿œè·ç¦»æµ‡æ°´ï¼šåŒä¸Š
- [ ] è¿œè·ç¦»ç§æ¤ï¼šåŒä¸Š
- [ ] å¯¼èˆªä¸­é¢„è§ˆä¸è·Ÿéšé¼ æ ‡
- [ ] å–æ¶ˆåé¢„è§ˆæ¢å¤è·Ÿéš
- [ ] é‡æ–°ç‚¹å‡»ä¸­æ–­+é‡å¯


### ä¼šè¯ 7 - 2026-02-10ï¼ˆè‡´å‘½ bug ä¿®å¤åç”¨æˆ·æµ‹è¯• + 5ç‚¹bugæŠ¥å‘Š + å…¨é¢å®¡è®¡ï¼‰

**ç”¨æˆ·åé¦ˆ**:
> æµ‹è¯•åæŠ¥å‘Š 5 ä¸ªå‰©ä½™é—®é¢˜ï¼š
> 1. çº¢è‰²é¢„è§ˆç‚¹å‡»è§¦å‘åŸåœ°é”„åœ° â€” åº”è¯¥ä»€ä¹ˆéƒ½ä¸è§¦å‘
> 2. å¯¼èˆªä¸­é‡æ–°ç‚¹å‡»ä¸æ›´æ–°é¢„è§ˆä½ç½®ï¼Œç‚¹å‡»çº¢è‰²åº”å–æ¶ˆå¯¼èˆªæ¢å¤è·Ÿéš
> 3. æµ‡æ°´æ— æ°´æ¸tile â€” Inspectorä¸­æ²¡æœ‰æ‹–å…¥æ°´æ¸tileçš„åœ°æ–¹
> 4. æ”¾ç½®ç³»ç»Ÿäº¤å‰é”™è¯¯ â€” WASDä¸å–æ¶ˆã€é¢æ¿æ‰“å¼€ä¸­æ–­ã€å³é”®ä¸ç«‹å³é‡ç½®å†œç”°é¢„è§ˆ
> 5. çº¢è‰²é¢„è§ˆæµ‡æ°´è§¦å‘åŸåœ°æµ‡æ°´ â€” åŒé—®é¢˜1

**å…¨é¢å®¡è®¡ç»“æœ â€” 7 ä¸ª Bugï¼ˆA-Gï¼‰**:

| Bug | ä¼˜å…ˆçº§ | é—®é¢˜ | çŠ¶æ€ |
|-----|--------|------|------|
| A | P0 | çº¢è‰²é¢„è§ˆç‚¹å‡»ç©¿é€åˆ°é€šç”¨å·¥å…·å¤„ç†å™¨ï¼Œæ’­æ”¾åŠ¨ç”» | âœ… å·²ä¿®å¤ |
| B | P0 | å¯¼èˆªä¸­ç‚¹å‡»çº¢è‰²åªå¿½ç•¥ï¼Œä¸å–æ¶ˆå¯¼èˆª | âœ… å·²ä¿®å¤ |
| C | P0 | æ°´æ¸ç³»ç»ŸæŸå â€” waterPuddleTilemap è¢«æ ‡è®° [Obsolete]+[HideInInspector]ï¼ŒSetWatered ä¸è°ƒç”¨è§†è§‰æ›´æ–° | âœ… å·²ä¿®å¤ |
| D | P1 | PlacementManager WASD ä¸å–æ¶ˆå¯¼èˆª | âœ… å·²ä¿®å¤ |
| E | P1 | PlacementManager é¢æ¿æ‰“å¼€è§¦å‘ HandleInterrupt | âœ… å·²ä¿®å¤ |
| F | P1 | å³é”®å¯¼èˆªä¸ç«‹å³é‡ç½®å†œç”°é¢„è§ˆé”å®š | âœ… å·²ä¿®å¤ |
| G | P2 | PlacementManager å¯¼èˆªä¸­ç‚¹å‡»çº¢è‰²æ— ååº” | âœ… å·²ä¿®å¤ |

**Bug C ä¿®å¤è¯¦æƒ…ï¼ˆæ°´æ¸ç³»ç»Ÿ â€” æœ¬æ¬¡ä¼šè¯å®Œæˆï¼‰**:
1. `LayerTilemaps.cs` â€” æ–°å¢ `waterPuddleTilemapNew` å­—æ®µï¼ˆå¯åœ¨ Inspector é…ç½®ï¼‰
2. `FarmVisualManager.UpdateTileVisual()` â€” ä¼˜å…ˆä½¿ç”¨ `waterPuddleTilemapNew`ï¼Œå›é€€åˆ°æ—§å­—æ®µ
3. `FarmVisualManager.ClearTileVisual()` â€” åŒä¸Šï¼Œä¼˜å…ˆä½¿ç”¨æ–°ç‰ˆå­—æ®µ
4. `FarmTileManager.SetWatered()` â€” æµ‡æ°´åç«‹å³è°ƒç”¨ `visualManager.UpdateTileVisual()` æ˜¾ç¤ºæ°´æ¸
5. `FarmTileManager.ClearAllTiles()` â€” æ¸…ç©ºæ—¶ä¼˜å…ˆä½¿ç”¨æ–°ç‰ˆ Tilemap

**äº§å‡ºæ–‡æ¡£**:
- `å…¨é¢å®¡è§†æŠ¥å‘Š_ä¼šè¯8.md` â€” å®Œæ•´å®¡è®¡æŠ¥å‘Šï¼ˆ7 ä¸ª Bug è¯¦ç»†åˆ†æï¼‰
- `æœ€ç»ˆäº¤äº’çŸ©é˜µ.md` â€” å†œç”°+æ”¾ç½®ç³»ç»Ÿæœ€ç»ˆäº¤äº’çŸ©é˜µ

**ä¿®æ”¹æ–‡ä»¶**:

### æ ¸å¿ƒæ–‡ä»¶ï¼ˆä¿®æ”¹ï¼‰
| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `GameInputManager.cs` | ä¿®æ”¹ | Bug A/B/D/F ä¿®å¤ |
| `PlacementManager.cs` | ä¿®æ”¹ | Bug D/E/G ä¿®å¤ + InterruptFromExternal() |
| `LayerTilemaps.cs` | ä¿®æ”¹ | Bug C â€” æ–°å¢ waterPuddleTilemapNew |
| `FarmVisualManager.cs` | ä¿®æ”¹ | Bug C â€” UpdateTileVisual/ClearTileVisual ä½¿ç”¨æ–°ç‰ˆå­—æ®µ |
| `FarmTileManager.cs` | ä¿®æ”¹ | Bug C â€” SetWatered è°ƒç”¨è§†è§‰æ›´æ–°ï¼ŒClearAllTiles ä½¿ç”¨æ–°ç‰ˆå­—æ®µ |

### æ–‡æ¡£æ–‡ä»¶
| æ–‡ä»¶ | æ“ä½œ | è¯´æ˜ |
|------|------|------|
| `å…¨é¢å®¡è§†æŠ¥å‘Š_ä¼šè¯8.md` | æ–°å»º | 7 Bug å®Œæ•´å®¡è®¡ |
| `æœ€ç»ˆäº¤äº’çŸ©é˜µ.md` | æ–°å»º | æœ€ç»ˆäº¤äº’çŸ©é˜µ |
| `memory.md` | æ›´æ–° | æœ¬æ¬¡ä¼šè¯è®°å½• |

**ç¼–è¯‘çŠ¶æ€**: âœ… æˆåŠŸï¼ˆ0 è­¦å‘Šï¼‰

**å¾…éªŒæ”¶**:
- [ ] çº¢è‰²é¢„è§ˆç‚¹å‡»ä¸è§¦å‘ä»»ä½•åŠ¨ä½œï¼ˆBug A/B ä¿®å¤éªŒè¯ï¼‰
- [ ] æµ‡æ°´åæ˜¾ç¤ºæ°´æ¸ Tileï¼ˆBug C ä¿®å¤éªŒè¯ â€” éœ€è¦åœ¨ Inspector æ‹–å…¥ waterPuddleTilemapNewï¼‰
- [ ] WASD å–æ¶ˆæ”¾ç½®ç³»ç»Ÿå¯¼èˆªï¼ˆBug D ä¿®å¤éªŒè¯ï¼‰
- [ ] é¢æ¿æ‰“å¼€ä¸ä¸­æ–­æ”¾ç½®ç³»ç»Ÿï¼ˆBug E ä¿®å¤éªŒè¯ï¼‰
- [ ] å³é”®å¯¼èˆªç«‹å³é‡ç½®å†œç”°é¢„è§ˆï¼ˆBug F ä¿®å¤éªŒè¯ï¼‰
- [ ] æ”¾ç½®ç³»ç»Ÿå¯¼èˆªä¸­ç‚¹å‡»çº¢è‰²è§¦å‘ä¸­æ–­ï¼ˆBug G ä¿®å¤éªŒè¯ï¼‰
