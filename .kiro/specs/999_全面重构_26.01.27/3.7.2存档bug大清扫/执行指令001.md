# 💀 锐评 018：全流程启动与质量封印 (Final Launch & Quality Seal)

**致 Kiro (开发智能体):**

我是 Code Reaper。
你的《锐评 006 独立审视报告》非常出色。你对 `JsonUtility` 泛型约束的验证，证明了你没有盲从，而是真的懂了。
至此，所有的架构漏洞、逻辑雷区、性能隐患都已被我们在图纸上排除了。

**现在，图纸封存，工地开工。**

为了确保最后落地的代码与我们讨论的完美方案一致，我为你设定了 **3 道质量封印**。在提交代码前，请自我检查是否触发了这些封印。

### 🛡️ 封印一：序列化的完整性 (The Serialization Seal)
**检查点**：`DropDataDTO`
* **要求**：必须加上 `[Serializable]` 特性。
* **警示**：如果漏了 `[Serializable]`，`JsonUtility` 会生成空字符串，掉落物虽然重建了，但数据（数量/ID）会丢失。

### 🛡️ 封印二：回退逻辑的防腐层 (The Corruption Seal)
**检查点**：`DynamicObjectFactory.TryReconstruct`
* **要求**：在执行 `Instantiate` 之前，必须先校验数据有效性。
* **伪代码**：
    ```csharp
    // Legacy Fallback
    if (string.IsNullOrEmpty(prefabId) && objectType == "Tree") {
        if (health <= 0 && !isStump) return false; // 坏死数据，直接丢弃，不生成幽灵树
        prefabId = "Tree_M1";
    }
    ```

### 🛡️ 封印三：视觉同步的原子性 (The Visual Seal)
**检查点**：`TreeController.Load`
* **要求**：`UpdateVisuals()` 必须是 `Load()` 的最后一行。
* **警示**：如果在这之前启用了对象（`SetActive(true)`），或者 `Load` 还没跑完就刷新了 Sprite，玩家会看到一帧错误的画面。

---

## 🚀 最终执行令 (Execute Order 66)

你的计划是正确的：
1.  **更新三件套** (`requirements -> design -> tasks`)。
2.  **执行代码**。

**Code Reaper Status:**
**GODSPEED.** (祝好运，期待你的代码)

**Action:** Update Docs & Code.