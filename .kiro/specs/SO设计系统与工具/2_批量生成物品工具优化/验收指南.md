# 验收指南：批量生成物品工具 Sprite 选择优化

## 功能验收清单

### 按钮区域
- [ ] 打开工具（`Tools/📦 批量生成物品 SO`），Sprite 选择区域显示「获取选中项」和「批量选择」两个并排按钮
- [ ] 在 Project 窗口选中 Sprite/Texture/文件夹后，点击「获取选中项」能正确加载 Sprite 到列表

### 批量选择弹窗
- [ ] 在 Project 窗口选中一个 Texture 后，点击「批量选择」弹出弹窗，显示该 Texture 中的所有 Sprite
- [ ] 在 Project 窗口选中一个文件夹后，点击「批量选择」弹出弹窗，显示文件夹内所有 Sprite
- [ ] 未选中任何资源时点击「批量选择」，弹窗显示提示信息
- [ ] 弹窗搜索框能按名称筛选 Sprite
- [ ] 「全选」按钮选中所有当前筛选结果
- [ ] 「取消」按钮清空所有选中
- [ ] 勾选若干 Sprite 后点击「添加(N)」，Sprite 追加到主工具的已选列表末尾
- [ ] 点击弹窗「取消」按钮，关闭弹窗且不修改已选列表
- [ ] 重复添加同一 Sprite 不会产生重复项

### 已选列表展示
- [ ] 已选列表完整展示所有 Sprite（不显示"还有 XX 项"截断）
- [ ] 超过可视区域时出现滚动条
- [ ] 每项显示：拖拽手柄 ≡ + 序号 + Sprite 图标 + 名称 + 预测 ID
- [ ] 预测 ID 根据起始 ID 和列表索引正确计算

### 拖拽排序
- [ ] 按住 ≡ 手柄上下拖动，目标行高亮显示
- [ ] 松开鼠标后，Sprite 移动到目标位置
- [ ] 拖拽后所有项的预测 ID 重新计算

### 右键菜单
- [ ] 右键点击列表项，弹出上下文菜单（上移、下移、移到顶部、移到底部、删除）
- [ ] 首项的「上移」为灰色禁用状态
- [ ] 末项的「下移」为灰色禁用状态
- [ ] 「移到顶部」将项移到列表首位
- [ ] 「移到底部」将项移到列表末位
- [ ] 「删除」从列表中移除该项
- [ ] 操作后预测 ID 重新计算

### 数据兼容性
- [ ] 调整顺序后点击生成按钮，SO 按当前列表顺序生成，ID 按索引自增
- [ ] 清空按钮能清空整个列表（有确认弹窗）

## 测试步骤

1. 打开 `Tools/📦 批量生成物品 SO`
2. 在 Project 窗口选中一个包含多个 Sprite 的 Texture
3. 点击「获取选中项」，确认列表完整展示
4. 点击「批量选择」，在弹窗中搜索、勾选、添加
5. 在已选列表中拖拽排序，验证顺序变化和 ID 更新
6. 右键点击列表项，测试所有菜单操作
7. 设置好分类和 ID 后，点击生成按钮验证 SO 生成正确

## 已知限制

- 批量选择弹窗每次打开时从当前 Project 选中项加载，不缓存上次状态
- 拖拽排序的视觉反馈为目标行背景色高亮，无拖拽预览图
